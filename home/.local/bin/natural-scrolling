#!/bin/sh
#
# Enables natural scrolling (requires using libinput, instead of evdev).

set -e
set -u

# TODO: Actually try and enable this on all "slave pointer" devices that expose
# the "Natural Scolling" prop.

# Logitech mouse
MOUSE_ID=$(xinput | grep -Po 'Performance MX\s+id=\K(\d+)')
MOUSE_PROP=$(xinput list-props $MOUSE_ID | grep "Natural Scrolling Enabled (" | grep -Po "(\d{3})")
xinput set-prop $MOUSE_ID $MOUSE_PROP 1

# MacBook Touchpad
MOUSE_ID=$(xinput | grep -Po 'bcm5974\s+id=\K(\d+)')
MOUSE_PROP=$(xinput list-props $MOUSE_ID | grep "Natural Scrolling Enabled (" | grep -Po "(\d{3})")
xinput set-prop $MOUSE_ID $MOUSE_PROP 1
