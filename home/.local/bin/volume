#!/bin/sh

set -e

if [ -z $1 ]; then
  true
elif [ $1 == decrease ]; then
  COMMAND="decrease 3"
elif [ $1 == increase ]; then
  COMMAND="increase 3"
elif [ $1 == min ]; then
  COMMAND="set-volume 0"
elif [ $1 == max ]; then
  COMMAND="set-volume 100"
elif [ $1 == toggle ]; then
  COMMAND="toggle"
else
  echo "Bad argument"
  exit -1
fi

if [ -z "$COMMAND" ]; then
  true  # No command to run
else
  for dev in $(ponymix --sink --short list | cut -f 3); do
    VOL=$(ponymix -d $dev $COMMAND)
  done
fi

volume-notify
