#!/bin/sh
#
# Attaches to a tmux session running rtorrent, making this script a very simple
# (yet funcional) rtorrent-remote-control.
#
# If an argument is passed, it's used to control rtorrent instead. Valid values
# are start, stop and restart.

COMMAND="ssh -i $HOME/.ssh/rtorrent.key rtorrent@hades.barrera.io"

if [ ! -z $1 ]; then
  ssh root@hades.barrera.io /etc/rc.d/rtorrent $1
elif tty -s; then
  $COMMAND
else
  $TERMINAL -e $COMMAND
fi
